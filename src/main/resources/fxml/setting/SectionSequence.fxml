<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?>
<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/19.0.2.1" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.frontend.controller.setting.SectionSequenceController"
      styleClass="app-setting-root">
   <stylesheets>
      <URL value="@../css/setting-material.css" />
   </stylesheets>
   <children>
      <!-- Header with Back Button -->
      <HBox alignment="CENTER_LEFT" styleClass="app-setting-header">
         <children>
            <!-- Back Button -->
            <Button fx:id="btnBack" styleClass="back-button">
               <graphic>
                  <HBox alignment="CENTER" spacing="8">
                     <children>
                        <FontAwesomeIcon glyphName="ARROW_LEFT" size="1.5em" styleClass="back-icon" />
                        <Label styleClass="back-text" text="BACK" />
                     </children>
                  </HBox>
               </graphic>
            </Button>

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />

            <!-- Title -->
            <Label styleClass="app-setting-title" text="Table Section Sequence" />

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />
         </children>
         <padding>
            <Insets bottom="15.0" left="30.0" right="30.0" top="15.0" />
         </padding>
      </HBox>

      <!-- Main Content Area with ScrollPane -->
      <ScrollPane fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
         <content>
            <VBox alignment="TOP_CENTER" spacing="0" style="-fx-background-color: transparent;">
               <padding>
                  <Insets bottom="30.0" left="40.0" right="40.0" top="25.0" />
               </padding>
               <children>
                  <!-- Info Box -->
                  <HBox styleClass="info-box" spacing="12" alignment="CENTER_LEFT" maxWidth="600">
                     <children>
                        <FontAwesomeIcon glyphName="INFO_CIRCLE" size="1.3em" fill="#1565C0" />
                        <VBox spacing="3">
                           <children>
                              <Label text="Drag and Drop to Reorder" styleClass="info-title" />
                              <Label text="Drag sections up or down to change display order in Billing screen. Top section appears first."
                                     styleClass="info-text" wrapText="true" />
                           </children>
                        </VBox>
                     </children>
                     <VBox.margin>
                        <Insets bottom="20.0" />
                     </VBox.margin>
                  </HBox>

                  <!-- Sections Container Card -->
                  <VBox fx:id="sectionsContainer" styleClass="settings-container-card" spacing="0" maxWidth="600">
                     <!-- Section rows will be added dynamically with drag-drop support -->
                  </VBox>

                  <!-- Action Buttons Row -->
                  <HBox spacing="15" alignment="CENTER">
                     <VBox.margin>
                        <Insets top="25.0" />
                     </VBox.margin>
                     <children>
                        <Button fx:id="btnSave" styleClass="action-btn-primary" prefWidth="160" prefHeight="42">
                           <graphic>
                              <HBox alignment="CENTER" spacing="8">
                                 <children>
                                    <FontAwesomeIcon glyphName="SAVE" size="1.1em" fill="white" />
                                    <Label text="Save Order" styleClass="action-btn-text" />
                                 </children>
                              </HBox>
                           </graphic>
                        </Button>
                        <Button fx:id="btnReset" styleClass="action-btn-secondary" prefWidth="140" prefHeight="42">
                           <graphic>
                              <HBox alignment="CENTER" spacing="8">
                                 <children>
                                    <FontAwesomeIcon glyphName="REFRESH" size="1.1em" fill="#667eea" />
                                    <Label text="Reset Order" styleClass="action-btn-text-secondary" />
                                 </children>
                              </HBox>
                           </graphic>
                        </Button>
                     </children>
                  </HBox>
               </children>
            </VBox>
         </content>
      </ScrollPane>
   </children>
</VBox>
