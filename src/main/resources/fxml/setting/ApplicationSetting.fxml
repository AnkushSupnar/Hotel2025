<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?>
<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/19.0.2.1" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.frontend.controller.setting.ApplicationSettingController"
      styleClass="app-setting-root">
   <stylesheets>
      <URL value="@../css/setting-material.css" />
   </stylesheets>
   <children>
      <!-- Header with Back Button -->
      <HBox alignment="CENTER_LEFT" styleClass="app-setting-header">
         <children>
            <!-- Back Button -->
            <Button fx:id="btnBack" styleClass="back-button">
               <graphic>
                  <HBox alignment="CENTER" spacing="8">
                     <children>
                        <FontAwesomeIcon glyphName="ARROW_LEFT" size="1.5em" styleClass="back-icon" />
                        <Label styleClass="back-text" text="BACK" />
                     </children>
                  </HBox>
               </graphic>
            </Button>

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />

            <!-- Title -->
            <Label styleClass="app-setting-title" text="Application Settings" />

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />
         </children>
         <padding>
            <Insets bottom="20.0" left="30.0" right="30.0" top="20.0" />
         </padding>
      </HBox>

      <!-- Main Content Area with ScrollPane -->
      <ScrollPane fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
         <content>
            <VBox alignment="TOP_CENTER" styleClass="setting-content-area">
               <padding>
                  <Insets bottom="40.0" left="50.0" right="50.0" top="40.0" />
               </padding>
               <children>
                  <!-- Row 1: Document Directory & Font File Cards -->
                  <HBox spacing="30" alignment="TOP_CENTER">
                     <children>
                        <!-- Document Directory Card -->
                        <VBox styleClass="setting-card-modern" spacing="0" HBox.hgrow="ALWAYS">
                           <children>
                              <!-- Card Header -->
                              <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-card-header">
                                 <children>
                                    <StackPane styleClass="setting-icon-circle" minWidth="48" minHeight="48" maxWidth="48" maxHeight="48">
                                       <children>
                                          <FontAwesomeIcon glyphName="FOLDER" size="1.4em" fill="white" />
                                       </children>
                                    </StackPane>
                                    <VBox spacing="2">
                                       <children>
                                          <Label text="Document Directory" styleClass="setting-card-title" />
                                          <Label text="Set the default folder for saving documents" styleClass="setting-card-subtitle" />
                                       </children>
                                    </VBox>
                                 </children>
                                 <padding>
                                    <Insets bottom="20.0" left="24.0" right="24.0" top="24.0" />
                                 </padding>
                              </HBox>

                              <!-- Card Body -->
                              <VBox spacing="16" styleClass="setting-card-body">
                                 <padding>
                                    <Insets bottom="24.0" left="24.0" right="24.0" top="20.0" />
                                 </padding>
                                 <children>
                                    <!-- Input Field -->
                                    <HBox styleClass="modern-input-container" alignment="CENTER_LEFT" spacing="12">
                                       <children>
                                          <FontAwesomeIcon glyphName="FOLDER_OPEN" size="1.1em" fill="#9575CD" />
                                          <TextField fx:id="txtDocumentPath" promptText="Select document directory..."
                                                     styleClass="modern-input" editable="false" HBox.hgrow="ALWAYS" />
                                          <Button fx:id="btnBrowseDocument" styleClass="browse-btn-modern">
                                             <graphic>
                                                <HBox alignment="CENTER" spacing="6">
                                                   <children>
                                                      <FontAwesomeIcon glyphName="SEARCH" size="0.9em" fill="white" />
                                                      <Label text="Browse" styleClass="browse-btn-text" />
                                                   </children>
                                                </HBox>
                                             </graphic>
                                          </Button>
                                       </children>
                                    </HBox>

                                    <!-- Current Value Display -->
                                    <VBox spacing="6" styleClass="current-value-section">
                                       <children>
                                          <HBox alignment="CENTER_LEFT" spacing="8">
                                             <children>
                                                <FontAwesomeIcon glyphName="CHECK_CIRCLE" size="0.9em" fill="#66BB6A" />
                                                <Label text="Current Setting" styleClass="current-value-label" />
                                             </children>
                                          </HBox>
                                          <Label fx:id="lblCurrentDocument" text="Not configured"
                                                 styleClass="current-value-text" wrapText="true" />
                                       </children>
                                    </VBox>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>

                        <!-- Font File Card -->
                        <VBox styleClass="setting-card-modern" spacing="0" HBox.hgrow="ALWAYS">
                           <children>
                              <!-- Card Header -->
                              <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-card-header-alt">
                                 <children>
                                    <StackPane styleClass="setting-icon-circle-alt" minWidth="48" minHeight="48" maxWidth="48" maxHeight="48">
                                       <children>
                                          <FontAwesomeIcon glyphName="FONT" size="1.4em" fill="white" />
                                       </children>
                                    </StackPane>
                                    <VBox spacing="2">
                                       <children>
                                          <Label text="Input Font File" styleClass="setting-card-title" />
                                          <Label text="Choose the font for PDF document generation" styleClass="setting-card-subtitle" />
                                       </children>
                                    </VBox>
                                 </children>
                                 <padding>
                                    <Insets bottom="20.0" left="24.0" right="24.0" top="24.0" />
                                 </padding>
                              </HBox>

                              <!-- Card Body -->
                              <VBox spacing="16" styleClass="setting-card-body">
                                 <padding>
                                    <Insets bottom="24.0" left="24.0" right="24.0" top="20.0" />
                                 </padding>
                                 <children>
                                    <!-- Input Field -->
                                    <HBox styleClass="modern-input-container" alignment="CENTER_LEFT" spacing="12">
                                       <children>
                                          <FontAwesomeIcon glyphName="FILE_TEXT" size="1.1em" fill="#42A5F5" />
                                          <TextField fx:id="txtFontPath" promptText="Select font file (.ttf, .otf)..."
                                                     styleClass="modern-input" editable="false" HBox.hgrow="ALWAYS" />
                                          <Button fx:id="btnBrowseFont" styleClass="browse-btn-modern-alt">
                                             <graphic>
                                                <HBox alignment="CENTER" spacing="6">
                                                   <children>
                                                      <FontAwesomeIcon glyphName="SEARCH" size="0.9em" fill="white" />
                                                      <Label text="Browse" styleClass="browse-btn-text" />
                                                   </children>
                                                </HBox>
                                             </graphic>
                                          </Button>
                                       </children>
                                    </HBox>

                                    <!-- Current Value Display -->
                                    <VBox spacing="6" styleClass="current-value-section">
                                       <children>
                                          <HBox alignment="CENTER_LEFT" spacing="8">
                                             <children>
                                                <FontAwesomeIcon glyphName="CHECK_CIRCLE" size="0.9em" fill="#66BB6A" />
                                                <Label text="Current Setting" styleClass="current-value-label" />
                                             </children>
                                          </HBox>
                                          <Label fx:id="lblCurrentFont" text="Not configured"
                                                 styleClass="current-value-text" wrapText="true" />
                                       </children>
                                    </VBox>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                     </children>
                  </HBox>

                  <!-- Row 2: Printer Settings Cards -->
                  <HBox spacing="30" alignment="TOP_CENTER">
                     <VBox.margin>
                        <Insets top="30.0" />
                     </VBox.margin>
                     <children>
                        <!-- Billing Printer Card -->
                        <VBox styleClass="setting-card-modern" spacing="0" HBox.hgrow="ALWAYS">
                           <children>
                              <!-- Card Header - Green Theme -->
                              <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-card-header-green">
                                 <children>
                                    <StackPane styleClass="setting-icon-circle-green" minWidth="48" minHeight="48" maxWidth="48" maxHeight="48">
                                       <children>
                                          <FontAwesomeIcon glyphName="PRINT" size="1.4em" fill="white" />
                                       </children>
                                    </StackPane>
                                    <VBox spacing="2">
                                       <children>
                                          <Label text="Billing Printer" styleClass="setting-card-title" />
                                          <Label text="Select printer for billing receipts" styleClass="setting-card-subtitle" />
                                       </children>
                                    </VBox>
                                 </children>
                                 <padding>
                                    <Insets bottom="20.0" left="24.0" right="24.0" top="24.0" />
                                 </padding>
                              </HBox>

                              <!-- Card Body -->
                              <VBox spacing="16" styleClass="setting-card-body">
                                 <padding>
                                    <Insets bottom="24.0" left="24.0" right="24.0" top="20.0" />
                                 </padding>
                                 <children>
                                    <!-- Printer Dropdown -->
                                    <HBox styleClass="modern-dropdown-container" alignment="CENTER_LEFT" spacing="12">
                                       <children>
                                          <FontAwesomeIcon glyphName="PRINT" size="1.1em" fill="#66BB6A" />
                                          <ComboBox fx:id="cmbBillingPrinter" promptText="Select billing printer..."
                                                    styleClass="modern-dropdown" HBox.hgrow="ALWAYS" maxWidth="Infinity" />
                                          <Button fx:id="btnRefreshBillingPrinter" styleClass="refresh-btn-green">
                                             <graphic>
                                                <FontAwesomeIcon glyphName="REFRESH" size="1em" fill="white" />
                                             </graphic>
                                          </Button>
                                       </children>
                                    </HBox>

                                    <!-- Current Value Display -->
                                    <VBox spacing="6" styleClass="current-value-section">
                                       <children>
                                          <HBox alignment="CENTER_LEFT" spacing="8">
                                             <children>
                                                <FontAwesomeIcon glyphName="CHECK_CIRCLE" size="0.9em" fill="#66BB6A" />
                                                <Label text="Current Printer" styleClass="current-value-label" />
                                             </children>
                                          </HBox>
                                          <Label fx:id="lblCurrentBillingPrinter" text="Not configured"
                                                 styleClass="current-value-text" wrapText="true" />
                                       </children>
                                    </VBox>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>

                        <!-- KOT Printer Card -->
                        <VBox styleClass="setting-card-modern" spacing="0" HBox.hgrow="ALWAYS">
                           <children>
                              <!-- Card Header - Orange Theme -->
                              <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-card-header-orange">
                                 <children>
                                    <StackPane styleClass="setting-icon-circle-orange" minWidth="48" minHeight="48" maxWidth="48" maxHeight="48">
                                       <children>
                                          <FontAwesomeIcon glyphName="CUTLERY" size="1.4em" fill="white" />
                                       </children>
                                    </StackPane>
                                    <VBox spacing="2">
                                       <children>
                                          <Label text="KOT Printer" styleClass="setting-card-title" />
                                          <Label text="Select printer for kitchen order tickets" styleClass="setting-card-subtitle" />
                                       </children>
                                    </VBox>
                                 </children>
                                 <padding>
                                    <Insets bottom="20.0" left="24.0" right="24.0" top="24.0" />
                                 </padding>
                              </HBox>

                              <!-- Card Body -->
                              <VBox spacing="16" styleClass="setting-card-body">
                                 <padding>
                                    <Insets bottom="24.0" left="24.0" right="24.0" top="20.0" />
                                 </padding>
                                 <children>
                                    <!-- Printer Dropdown -->
                                    <HBox styleClass="modern-dropdown-container" alignment="CENTER_LEFT" spacing="12">
                                       <children>
                                          <FontAwesomeIcon glyphName="PRINT" size="1.1em" fill="#FF9800" />
                                          <ComboBox fx:id="cmbKotPrinter" promptText="Select KOT printer..."
                                                    styleClass="modern-dropdown" HBox.hgrow="ALWAYS" maxWidth="Infinity" />
                                          <Button fx:id="btnRefreshKotPrinter" styleClass="refresh-btn-orange">
                                             <graphic>
                                                <FontAwesomeIcon glyphName="REFRESH" size="1em" fill="white" />
                                             </graphic>
                                          </Button>
                                       </children>
                                    </HBox>

                                    <!-- Current Value Display -->
                                    <VBox spacing="6" styleClass="current-value-section">
                                       <children>
                                          <HBox alignment="CENTER_LEFT" spacing="8">
                                             <children>
                                                <FontAwesomeIcon glyphName="CHECK_CIRCLE" size="0.9em" fill="#66BB6A" />
                                                <Label text="Current Printer" styleClass="current-value-label" />
                                             </children>
                                          </HBox>
                                          <Label fx:id="lblCurrentKotPrinter" text="Not configured"
                                                 styleClass="current-value-text" wrapText="true" />
                                       </children>
                                    </VBox>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                     </children>
                  </HBox>

                  <!-- Action Buttons Row -->
                  <HBox spacing="16" alignment="CENTER">
                     <VBox.margin>
                        <Insets top="30.0" />
                     </VBox.margin>
                     <children>
                        <Button fx:id="btnSave" styleClass="action-btn-primary" prefWidth="180" prefHeight="48">
                           <graphic>
                              <HBox alignment="CENTER" spacing="10">
                                 <children>
                                    <FontAwesomeIcon glyphName="SAVE" size="1.2em" fill="white" />
                                    <Label text="Save Settings" styleClass="action-btn-text" />
                                 </children>
                              </HBox>
                           </graphic>
                        </Button>
                        <Button fx:id="btnClear" styleClass="action-btn-secondary" prefWidth="150" prefHeight="48">
                           <graphic>
                              <HBox alignment="CENTER" spacing="10">
                                 <children>
                                    <FontAwesomeIcon glyphName="REFRESH" size="1.2em" fill="#667eea" />
                                    <Label text="Clear Form" styleClass="action-btn-text-secondary" />
                                 </children>
                              </HBox>
                           </graphic>
                        </Button>
                     </children>
                  </HBox>
               </children>
            </VBox>
         </content>
      </ScrollPane>
   </children>
</VBox>
