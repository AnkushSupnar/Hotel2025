<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIcon?>
<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/19.0.2.1" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.frontend.controller.setting.ApplicationSettingController"
      styleClass="app-setting-root">
   <stylesheets>
      <URL value="@../css/setting-material.css" />
   </stylesheets>
   <children>
      <!-- Header with Back Button -->
      <HBox alignment="CENTER_LEFT" styleClass="app-setting-header">
         <children>
            <!-- Back Button -->
            <Button fx:id="btnBack" styleClass="back-button">
               <graphic>
                  <HBox alignment="CENTER" spacing="8">
                     <children>
                        <FontAwesomeIcon glyphName="ARROW_LEFT" size="1.5em" styleClass="back-icon" />
                        <Label styleClass="back-text" text="BACK" />
                     </children>
                  </HBox>
               </graphic>
            </Button>

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />

            <!-- Title -->
            <Label styleClass="app-setting-title" text="Application Settings" />

            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />
         </children>
         <padding>
            <Insets bottom="15.0" left="30.0" right="30.0" top="15.0" />
         </padding>
      </HBox>

      <!-- Main Content Area with ScrollPane -->
      <ScrollPane fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
         <content>
            <VBox alignment="TOP_CENTER" spacing="0" style="-fx-background-color: transparent;">
               <padding>
                  <Insets bottom="30.0" left="40.0" right="40.0" top="25.0" />
               </padding>
               <children>
                  <!-- Settings Container Card -->
                  <VBox styleClass="settings-container-card" spacing="0">
                     <children>

                        <!-- Setting Row 1: Document Directory -->
                        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-row">
                           <children>
                              <!-- Icon -->
                              <FontAwesomeIcon glyphName="FOLDER" size="1.3em" fill="#7E57C2" />
                              <!-- Label Section -->
                              <VBox spacing="2" minWidth="180" maxWidth="180">
                                 <children>
                                    <Label text="Document Directory" styleClass="setting-row-title" />
                                    <Label fx:id="lblCurrentDocument" text="Not configured" styleClass="setting-row-value" />
                                 </children>
                              </VBox>
                              <!-- Input Field -->
                              <TextField fx:id="txtDocumentPath" promptText="Select document directory..."
                                         styleClass="setting-row-input" HBox.hgrow="ALWAYS" editable="false" />
                              <!-- Browse Button -->
                              <Button fx:id="btnBrowseDocument" styleClass="setting-row-btn-purple">
                                 <graphic>
                                    <HBox alignment="CENTER" spacing="5">
                                       <children>
                                          <FontAwesomeIcon glyphName="FOLDER_OPEN" size="0.9em" fill="white" />
                                          <Label text="Browse" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: 600;" />
                                       </children>
                                    </HBox>
                                 </graphic>
                              </Button>
                           </children>
                        </HBox>

                        <Separator styleClass="setting-separator" />

                        <!-- Setting Row 2: Font File -->
                        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-row">
                           <children>
                              <!-- Icon -->
                              <FontAwesomeIcon glyphName="FONT" size="1.3em" fill="#42A5F5" />
                              <!-- Label Section -->
                              <VBox spacing="2" minWidth="180" maxWidth="180">
                                 <children>
                                    <Label text="Input Font File" styleClass="setting-row-title" />
                                    <Label fx:id="lblCurrentFont" text="Not configured" styleClass="setting-row-value" />
                                 </children>
                              </VBox>
                              <!-- Input Field -->
                              <TextField fx:id="txtFontPath" promptText="Select font file (.ttf, .otf)..."
                                         styleClass="setting-row-input" HBox.hgrow="ALWAYS" editable="false" />
                              <!-- Browse Button -->
                              <Button fx:id="btnBrowseFont" styleClass="setting-row-btn-blue">
                                 <graphic>
                                    <HBox alignment="CENTER" spacing="5">
                                       <children>
                                          <FontAwesomeIcon glyphName="FILE_TEXT" size="0.9em" fill="white" />
                                          <Label text="Browse" style="-fx-text-fill: white; -fx-font-size: 12px; -fx-font-weight: 600;" />
                                       </children>
                                    </HBox>
                                 </graphic>
                              </Button>
                           </children>
                        </HBox>

                        <Separator styleClass="setting-separator" />

                        <!-- Setting Row 3: Billing Printer -->
                        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-row">
                           <children>
                              <!-- Icon -->
                              <FontAwesomeIcon glyphName="PRINT" size="1.3em" fill="#43A047" />
                              <!-- Label Section -->
                              <VBox spacing="2" minWidth="180" maxWidth="180">
                                 <children>
                                    <Label text="Billing Printer" styleClass="setting-row-title" />
                                    <Label fx:id="lblCurrentBillingPrinter" text="Not configured" styleClass="setting-row-value" />
                                 </children>
                              </VBox>
                              <!-- Dropdown -->
                              <ComboBox fx:id="cmbBillingPrinter" promptText="Select billing printer..."
                                        styleClass="setting-row-dropdown" HBox.hgrow="ALWAYS" maxWidth="Infinity" />
                              <!-- Refresh Button -->
                              <Button fx:id="btnRefreshBillingPrinter" styleClass="setting-row-btn-green">
                                 <graphic>
                                    <FontAwesomeIcon glyphName="REFRESH" size="1em" fill="white" />
                                 </graphic>
                              </Button>
                           </children>
                        </HBox>

                        <Separator styleClass="setting-separator" />

                        <!-- Setting Row 4: KOT Printer -->
                        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-row">
                           <children>
                              <!-- Icon -->
                              <FontAwesomeIcon glyphName="CUTLERY" size="1.3em" fill="#FB8C00" />
                              <!-- Label Section -->
                              <VBox spacing="2" minWidth="180" maxWidth="180">
                                 <children>
                                    <Label text="KOT Printer" styleClass="setting-row-title" />
                                    <Label fx:id="lblCurrentKotPrinter" text="Not configured" styleClass="setting-row-value" />
                                 </children>
                              </VBox>
                              <!-- Dropdown -->
                              <ComboBox fx:id="cmbKotPrinter" promptText="Select KOT printer..."
                                        styleClass="setting-row-dropdown" HBox.hgrow="ALWAYS" maxWidth="Infinity" />
                              <!-- Refresh Button -->
                              <Button fx:id="btnRefreshKotPrinter" styleClass="setting-row-btn-orange">
                                 <graphic>
                                    <FontAwesomeIcon glyphName="REFRESH" size="1em" fill="white" />
                                 </graphic>
                              </Button>
                           </children>
                        </HBox>

                        <Separator styleClass="setting-separator" />

                        <!-- Setting Row 5: Default Bank for Billing -->
                        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="setting-row">
                           <children>
                              <!-- Icon -->
                              <FontAwesomeIcon glyphName="BANK" size="1.3em" fill="#5C6BC0" />
                              <!-- Label Section -->
                              <VBox spacing="2" minWidth="180" maxWidth="180">
                                 <children>
                                    <Label text="Default Bank for Billing" styleClass="setting-row-title" />
                                    <Label fx:id="lblCurrentDefaultBank" text="Not configured" styleClass="setting-row-value" />
                                 </children>
                              </VBox>
                              <!-- Dropdown -->
                              <ComboBox fx:id="cmbDefaultBank" promptText="Select default bank..."
                                        styleClass="setting-row-dropdown" HBox.hgrow="ALWAYS" maxWidth="Infinity" />
                              <!-- Refresh Button -->
                              <Button fx:id="btnRefreshBanks" styleClass="setting-row-btn-indigo">
                                 <graphic>
                                    <FontAwesomeIcon glyphName="REFRESH" size="1em" fill="white" />
                                 </graphic>
                              </Button>
                           </children>
                        </HBox>

                     </children>
                  </VBox>

                  <!-- Action Buttons Row -->
                  <HBox spacing="15" alignment="CENTER">
                     <VBox.margin>
                        <Insets top="25.0" />
                     </VBox.margin>
                     <children>
                        <Button fx:id="btnSave" styleClass="action-btn-primary" prefWidth="160" prefHeight="42">
                           <graphic>
                              <HBox alignment="CENTER" spacing="8">
                                 <children>
                                    <FontAwesomeIcon glyphName="SAVE" size="1.1em" fill="white" />
                                    <Label text="Save Settings" styleClass="action-btn-text" />
                                 </children>
                              </HBox>
                           </graphic>
                        </Button>
                        <Button fx:id="btnClear" styleClass="action-btn-secondary" prefWidth="140" prefHeight="42">
                           <graphic>
                              <HBox alignment="CENTER" spacing="8">
                                 <children>
                                    <FontAwesomeIcon glyphName="REFRESH" size="1.1em" fill="#667eea" />
                                    <Label text="Clear Form" styleClass="action-btn-text-secondary" />
                                 </children>
                              </HBox>
                           </graphic>
                        </Button>
                     </children>
                  </HBox>
               </children>
            </VBox>
         </content>
      </ScrollPane>
   </children>
</VBox>
